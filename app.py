import streamlit as st
import pandas as pd
import numpy as np
from twilio.rest import Client

# Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
st.set_page_config(page_title="Oil Master Pro", page_icon="â›½", layout="wide")

# Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ© Ø¨Ø£Ù…Ø§Ù† Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
# Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ùˆ Ø¨ØªØ¬Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù‡ÙŠØ·Ù„Ø¹ Ø®Ø·Ø£ Ù„Ø­Ø¯ Ù…Ø§ ØªØ±ÙØ¹ Ø§Ù„ÙƒÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹
try:
    account_sid = st.secrets["TWILIO_ACCOUNT_SID"]
    auth_token = st.secrets["TWILIO_AUTH_TOKEN"]
except:
    account_sid = "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¶Ø¨Ø·"
    auth_token = "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¶Ø¨Ø·"

# --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Ø¹Ø´Ø§Ù† ØªØ±Ø¬Ø¹ Ø§Ù„Ù„Ø²ÙˆØ¬Ø© ÙˆØ§Ù„Ø­ÙØ±) ---
st.sidebar.title("ğŸ› ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…")
page = st.sidebar.selectbox("Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…:", 
    ["ğŸ“Š Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„ (20 Ù…Ø¹Ø§Ù…Ù„)", "ğŸ—ï¸ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­ÙØ± ÙˆØ§Ù„Ù„Ø²ÙˆØ¬Ø©", "ğŸ› ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡"])

if page == "ğŸ“Š Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„ (20 Ù…Ø¹Ø§Ù…Ù„)":
    st.title("â›½ Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©")
    col1, col2 = st.columns(2)
    with col1:
        v1=st.number_input("1. Ø§Ù„Ø¹Ù…Ù‚", 7000); v2=st.number_input("2. Ø§Ù„Ø¶ØºØ·", 2500); v3=st.number_input("3. Ø§Ù„Ø­Ø±Ø§Ø±Ø©", 190); v4=st.number_input("4. Ø§Ù„Ù…Ø³Ø§Ù…ÙŠØ©", 18); v5=st.number_input("5. Ø§Ù„Ù†ÙØ§Ø°ÙŠØ©", 120)
    with col2:
        v12=st.number_input("12. Ø§Ù„Ù„Ø²ÙˆØ¬Ø©", 1.5); v16=st.number_input("16. Ø¶ØºØ· Ø§Ù„Ù‚Ø§Ø¹", 2000); v20=st.number_input("20. Ø§Ù„Ø£ÙŠØ§Ù…", 30)

    if st.button("ğŸš€ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"):
        res = (v2 - v16) * (v5 / v12) * (v20 / 30)
        st.success(f"### Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: {max(0, res):.2f} STB/D")
        st.balloons()

elif page == "ğŸ—ï¸ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­ÙØ± ÙˆØ§Ù„Ù„Ø²ÙˆØ¬Ø©":
    st.title("ğŸ—ï¸ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ø§Ø±Ø§Ù…ØªØ±Ø§Øª Ø§Ù„Ø­ÙØ±")
    st.metric("Ø§Ù„Ù„Ø²ÙˆØ¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©", f"{v12} cp")
    st.metric("Ø§Ù„Ø¶ØºØ·", f"{v2} PSI")

elif page == "ğŸ› ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡":
    st.title("ğŸ› ï¸ Ø­Ø§Ù„Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡")
    if account_sid != "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¶Ø¨Ø·":
        st.success("âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø­Ù…ÙŠ ÙˆÙ…Ø±ØªØ¨Ø· Ø¨Ù€ Twilio")
    else:
        st.warning("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù€ Secrets ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Streamlit Cloud")
